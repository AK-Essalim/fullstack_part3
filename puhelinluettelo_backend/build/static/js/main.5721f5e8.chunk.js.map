{"version":3,"sources":["components/People.js","components/PersonForm.js","components/Filter.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["People","persons","deletePerson","map","person","name","number","onClick","id","PersonForm","handleNameChange","handleNumberChange","addName","newName","newNumber","onSubmit","value","onChange","type","Filter","handleFilterValueChange","filterValue","baseUrl","axios","get","nameObject","post","then","response","data","delete","newObject","put","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilterValue","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","PersonService","catch","err","console","log","setTimeout","FilteredPeople","filter","people","toLowerCase","includes","e","target","preventDefault","names","trim","forEach","push","some","newPerson","find","newDetails","window","confirm","responsePerson","undefined","error","concat","deleted","updatedList","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5721f5e8.chunk.js","sourcesContent":["import React from \"react\";\n\nconst People = ({ persons, deletePerson }) => {\n  return (\n    <>\n      {persons.map((person) => (\n        <p key={person.name}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => deletePerson(person.id)}>delete</button>\n        </p>\n      ))}\n    </>\n  );\n};\n\nexport default People;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleNameChange,\n  handleNumberChange,\n  addName,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = ({ handleFilterValueChange, filterValue }) => {\n  return (\n    <>\n      <div>\n        filter shown with{\" \"}\n        <input value={filterValue} onChange={handleFilterValueChange} />\n      </div>\n    </>\n  );\n};\n\nexport default Filter;\n","import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  return axios.get(baseUrl);\n};\n\nconst addPerson = (nameObject) => {\n  const request = axios.post(baseUrl, nameObject);\n  return request.then((response) => response.data);\n};\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nexport default {\n  getAll,\n  addPerson,\n  deletePerson,\n  update,\n};\n","import React from \"react\";\n\nconst Notification = ({ message, className = \"notification\" }) => {\n  if (message == null) {\n    return null;\n  }\n  return <div className={className}> {message} </div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport People from \"./components/People\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport PersonService from \"./services/personService\";\nimport Notification from \"./components/Notification\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterValue, setFilterValue] = useState(\"\");\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    PersonService.getAll()\n      .then((response) => setPersons(response.data))\n      .catch((err) => console.log(\"something went wrong app useEffect \", err));\n  }, []);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setErrorMessage(null);\n      setNotificationMessage(null);\n    }, 5000);\n  }, [notificationMessage, errorMessage]);\n\n  const addName = (e) => {\n    e.preventDefault();\n    const names = [];\n    const nameObject = {\n      name: newName.trim(),\n      number: newNumber.trim(),\n    };\n\n    persons.forEach((person) => names.push(person.name));\n\n    if (newName === \"\") {\n      return;\n    }\n\n    const existingPerson = persons.some((person) => person.name === newName);\n    if (existingPerson) {\n      const newPerson = persons.find((person) => person.name === newName);\n\n      const newDetails = { ...newPerson, number: newNumber };\n      const id = newDetails.id;\n\n      const confirmUpdate = window.confirm(\n        `${newName} has already been added to phonebook, update number?`\n      );\n\n      if (confirmUpdate) {\n        PersonService.update(id, newDetails)\n          .then((responsePerson) => {\n            if (responsePerson !== undefined) {\n              setPersons(\n                persons.map((person) =>\n                  person.id !== id ? person : responsePerson\n                )\n              );\n              setNotificationMessage(\n                `The number of ${newName} has been updated!`\n              );\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            setErrorMessage(err.response.data.error);\n          });\n      }\n      return;\n    }\n\n    PersonService.addPerson(nameObject)\n      .then((newPerson) => {\n        setPersons(persons.concat(newPerson));\n        setNotificationMessage(\n          `Person ${nameObject.name} has been added to the Phonebook`\n        );\n      })\n      .catch((error) => {\n        setErrorMessage(error.response.data.error);\n      });\n\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleFilterValueChange = (e) => {\n    setFilterValue(e.target.value);\n  };\n\n  const deletePerson = (id) => {\n    const deleted = persons.find((person) => person.id === id);\n\n    const confirmDelete = window.confirm(\n      `Are you sure you want to delete ${deleted.name}?`\n    );\n    if (confirmDelete) {\n      PersonService.deletePerson(id)\n        .then(() => {\n          const updatedList = persons.filter((person) => person.id !== id);\n          setPersons(updatedList);\n          setNotificationMessage(\n            `Person ${deleted.name} has been deleted from the Phonebook`\n          );\n          setTimeout(() => {\n            setNotificationMessage(null);\n          }, 5000);\n        })\n        .catch((err) => {\n          console.log(err);\n          setErrorMessage(\n            `Person ${deleted.name} has already been deleted from server`\n          );\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n          setPersons(persons.filter((p) => p.id !== id));\n        });\n    }\n  };\n\n  const FilteredPeople = persons.filter((people) =>\n    people.name.toLowerCase().includes(filterValue.toLowerCase())\n  );\n\n  const error = \"error\";\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {notificationMessage && <Notification message={notificationMessage} />}\n      {errorMessage && (\n        <Notification message={errorMessage} className={error} />\n      )}\n      <Filter\n        handleFilterValueChange={handleFilterValueChange}\n        filterValue={filterValue}\n      />\n\n      <h3>add a new contact</h3>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <People persons={FilteredPeople} deletePerson={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}